<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- displays site properly based on user's device -->

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@600;800&display=swap" rel="stylesheet">

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">

  <title>Frontend Mentor | Interactive pricing component</title>
  <link rel="stylesheet" href="styles.css">

  <script>
    // console.log(document.getElementsByClassName("slider"));
    const listofprices = [
      { npageviews: '10K pageviews', vprice: 8 },
      { npageviews: '50K pageviews', vprice: 12 },
      { npageviews: '100K pageviews', vprice: 16 },
      { npageviews: '500K pageviews', vprice: 24 },
      { npageviews: '1M pageviews', vprice: 36 },
    ]

    var discount = 0;
    function resetAnimationBoth(pageviews, price, npageviews, vprice) {
      pageviews.innerHTML = npageviews;
      pageviews.style.animation = 'none';
      pageviews.offsetHeight;
      pageviews.style.animation = null;
      pageviews.style.animation = 'changecolor 1s ease-in-out';

      price.innerHTML = `$${vprice}.00`;
      price.style.animation = 'none';
      price.offsetHeight;
      price.style.animation = null;
      price.style.animation = 'changecolor-prices 1s ease-in-out';


    }

    function resetAnimationPrice(price, vprice){

      price.innerHTML = `$${vprice}.00`;
      price.style.animation = 'none';
      price.offsetHeight;
      price.style.animation = null;
      price.style.animation = 'changecolor-prices 1s ease-in-out';

    }


    function handleInputSlider(slider) {
      const value = (slider.value - slider.min) / (slider.max - slider.min) * 100;
      slider.style.background = 'linear-gradient(to right, var(--full-slider-bar) 0%, var(--full-slider-bar) ' + value + '%, var(--empty-slider-bar) ' + value + '%, var(--empty-slider-bar) 100%)'
      const pageviews = document.getElementsByClassName('pageviews-p').item(0);
      const price = document.getElementsByClassName('price-content').item(0);

      resetAnimationBoth(pageviews, price, listofprices[slider.value - 1].npageviews, listofprices[slider.value - 1].vprice*(1-discount))

    }
    
    function handleInputToggle (){
      const toggle = document.getElementById("myToggle");
      const price = document.getElementsByClassName('price-content').item(0);
      const slider = document.getElementById('myRange');
      const value = (slider.value - slider.min) / (slider.max - slider.min) * 100;

      if(toggle.checked){
        discount = 0.25;
      }else{
        discount =0;
      }

      resetAnimationPrice(price, listofprices[slider.value - 1].vprice*(1-discount));

    }


  </script>

  <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->

</head>

<body>
  <header>
    <img src="images/pattern-circles.svg" alt="circles" class="circles">
    <strong>
      Simple, traffic-based pricing
    </strong>
    <p>
      Sign-up for our 30-day trial. No credit card required.
    </p>

  </header>
  <div class="pricing">
    <div class="pageprices">
      <div class="pageviews">
        <p class="pageviews-p">100K Pageviews</p>

      </div>
      <div class="prices">
        <strong class="price-content">$16.00</strong>
        /month
      </div>
    </div>
    <div class="slider-container">
      <input type="range" min="1" max="5" value="3" class="slider" id="myRange" oninput="handleInputSlider(this)">

    </div>

    <div class="monthly-or-year">
      <div class="monthly">
        Monthly Billing

      </div>
      <label class="toggle" for="myToggle" onclick="handleInputToggle()">
        <input class="toggle__input" type="checkbox" id="myToggle">
        <div class="toggle__fill"></div>
      </label>
      <div class="yearly">
        Yearly Billing
        <div class="discount">
          <span>
            25% discount
          </span>
        </div>
        
      </div>

    </div>

    <div class="bottom-div">
      <div class="checkboxes-wrapper">
        <p>
          <img src="images/icon-check.svg" alt="icon-check">
          Unlimited websites
        </p>
        <p>
          <img src="images/icon-check.svg" alt="icon-check">
          100% data ownership
        </p>
        <p>
          <img src="images/icon-check.svg" alt="icon-check">
          Email reports
        </p>
        

      </div>
      <div class="button-wrapper">
        <button href = "#">
          Start my trial
  
        </button>  

      </div>


    </div>

  </div>


</body>
<footer>
  <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>.
    Coded by <a href="https://github.com/ThurzinRB" target="_blank">Arthur Bello</a>.
  </div>

</footer>

</html>